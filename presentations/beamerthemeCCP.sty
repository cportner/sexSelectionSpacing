\ProvidesPackage{beamerthemeCCP} 
% this style is an adaptation of styles by Rob J Hyndman, i6dv by David Vilar,
% and Daina Chiba http://ricebeamer.dynaman.net/latex/beamerthemeRicePoster.sty

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\mode<presentation>
\usepackage{tikz}		% for drawing the nice rounded boxes
\usetikzlibrary{arrows,backgrounds}

\RequirePackage{lmodern}
\RequirePackage{textcomp}
\RequirePackage{amsmath,amssymb}

\newcommand{\makeruleinbox}{{\usebeamercolor[bg]{block alerted title}\centering\hspace*{-0.7cm}\rule{\inboxrule}{0.5cm}}}
\usepackage{ragged2e}

% define some length variables that are used by the template
\newlength{\inboxwd}
\newlength{\iinboxwd}
\newlength{\inboxrule}
\makeatletter
\makeatother

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%==============================================================================
% Define colors
%==============================================================================

\definecolor{SU_red}{HTML}{AA0000}          % Header/footer backgroup
\definecolor{SU_yellow}{HTML}{FDB913}       % author/institute color
\definecolor{SU_black}{HTML}{333333}        % separation lines
\definecolor{SU_yellow_tint}{HTML}{FFFFF0}  % poster background
\definecolor{SU_forest_green}{HTML}{124A12} % 
\definecolor{SU_navy}{HTML}{003282}         % Block header


%==============================================================================
% Set colors for the blocks, header bars, etc
%==============================================================================

% set colors for alerted text
\setbeamercolor{alerted text}{fg=SU_red}

% set colors for alerted blocks (blocks with frame)
\setbeamercolor{block alerted title}{fg=white,bg=SU_red}
\setbeamercolor{block alerted body}{fg=SU_black,bg=SU_red!10}

% Header
\setbeamercolor{headline}{bg=SU_red}
\setbeamercolor{title in headline}{fg=white}
\setbeamercolor{author in headline}{fg=SU_yellow}
\setbeamercolor{institute in headline}{fg=SU_yellow}

\setbeamercolor{separation line}{bg=SU_black}

% Footline
\setbeamercolor{footline}{fg=SU_yellow,bg=SU_red}
\setbeamerfont{footline}{size=\large,series=\tt}

\setbeamercolor{author in head/foot}{fg=SU_yellow,bg=SU_red}
\setbeamercolor{title in head/foot}{fg=SU_yellow,bg=SU_red}

% body colors and fonts
\setbeamercolor*{normal text}{fg=SU_black,bg=SU_yellow_tint} % background

% block environment
\setbeamercolor*{block body}{fg=SU_black, bg=SU_yellow_tint}
\setbeamercolor*{block title}{fg=SU_navy,bg=SU_yellow_tint}
\setbeamerfont{block title}{size=\Large,series=\bf}

% example environment
\setbeamercolor*{example body}{fg=SU_black,bg=SU_yellow_tint}
\setbeamercolor*{example text}{fg=white,bg=SU_red}
\setbeamercolor*{example title}{fg=white,bg=SU_red}

\setbeamercolor{structure}{fg=SU_red}

% set colors for itemize/enumerate
\setbeamercolor{item}{fg=SU_navy}
\setbeamercolor{item projected}{fg=SU_yellow,bg=SU_yellow}

\setbeamertemplate{itemize items}[triangle]
\setbeamertemplate{navigation symbols}{}  % no navigation on a poster

%==============================================================================
% Normal Block
%==============================================================================

\setbeamertemplate{block begin}
{
  \par\vskip\medskipamount
  \begin{beamercolorbox}[colsep*=.5ex,dp={2ex},center]{block title}
    \vskip-0.25cm
    \usebeamerfont{block title}\large\insertblocktitle
    \begin{flushleft}
    \vskip-1cm
    \begin{tikzpicture}[remember picture,overlay]
      \shade [inner color=SU_forest_green,outer color=SU_yellow_tint]
      (0,0) rectangle (\textwidth,0.3cm);
    \end{tikzpicture}
    \end{flushleft}
  \end{beamercolorbox}
  {\parskip0pt\par}
  \ifbeamercolorempty[bg]{block title}
  {}
  {\ifbeamercolorempty[bg]{block body}{}{\nointerlineskip\vskip-0.5pt}}
  \usebeamerfont{block body}
  \vskip-0.5cm
  \begin{beamercolorbox}[colsep*=.5ex,vmode]{block body}
  \justifying
}

\setbeamertemplate{block end}
{
  \end{beamercolorbox}
  \vskip\smallskipamount
}

%==============================================================================
% Alert block definition (with frame)
%==============================================================================

\setbeamertemplate{block alerted begin}
{
  \par\vskip\medskipamount
  \begin{beamercolorbox}[sep=0ex,rounded=true,center,dp={2ex}]{block alerted title}
    \vskip0.01cm
    \usebeamerfont{block title}\large\insertblocktitle
  \end{beamercolorbox}
  {\parskip0pt\par}
  \usebeamerfont{block body}
  \vskip-0.8cm
  \begin{beamercolorbox}[sep=.5cm, rounded=true,center]{block alerted title}
  \setlength{\inboxwd}{\linewidth}
  \addtolength{\inboxwd}{-1cm}
  \begin{beamercolorbox}[rounded=true,wd={\inboxwd},center]{block alerted body}
  \setlength{\iinboxwd}{\inboxwd}
  \setlength{\inboxrule}{\inboxwd}
  \addtolength{\iinboxwd}{-0.5cm}
  \addtolength{\inboxrule}{0.5cm}
  \begin{center}
  \begin{minipage}{\iinboxwd}
  \justifying
}

\setbeamertemplate{block alerted end}
{
  \end{minipage}
  \end{center}
  \end{beamercolorbox}
  \end{beamercolorbox}
  \vskip\smallskipamount
}


%==============================================================================
% Header
%==============================================================================

\setbeamertemplate{headline}{  

  \leavevmode%
  \begin{beamercolorbox}[wd=\paperwidth]{headline}
  
  \begin{columns}[T]
  \hspace{3cm}%
  \begin{column}{0.74\paperwidth}
    \vspace{6ex}%
    \raggedright%
    \usebeamercolor{title in headline}{\color{fg}\textbf{\huge{\inserttitle}}\\[3ex]}
    \usebeamercolor{author in headline}{\color{fg}\large{\insertauthor}\\}
    \usebeamercolor{institute in headline}{\color{fg}\large{\insertinstitute}\\}
    \vspace{4ex}
   \end{column}
   
   % Logo on right
   \begin{column}{0.24\paperwidth}
   \vspace{4ex}%
   \begin{center}
   \includegraphics[width=.7\linewidth]{SU_Typeface_Stacked_BlackBackground.eps}
   \end{center}
   \vspace{4ex}  
   \end{column}

  \end{columns}
  \end{beamercolorbox}
 
  
  \begin{beamercolorbox}[wd=\paperwidth]{lower separation line head}
    \rule{0pt}{3pt}
  \end{beamercolorbox}
}

%==============================================================================
% Footer
%==============================================================================

\setbeamertemplate{footline}{
 
  \begin{beamercolorbox}[wd=\paperwidth]{upper separation line foot}
    \rule{0pt}{3pt}
  \end{beamercolorbox}
  
  \leavevmode%
  \begin{beamercolorbox}[ht=4.5ex,leftskip=2.5cm,rightskip=2.5cm]{author in head/foot}%
    \conference
    \hfill 
    \yourEmail
    \vskip1ex
  \end{beamercolorbox}
 
  \vskip0pt%
  \begin{beamercolorbox}[wd=\paperwidth]{lower separation line foot}
    \rule{0pt}{3pt}
  \end{beamercolorbox}

}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\mode<all>

\def\footer#1{\def\insertfooter{#1}}
